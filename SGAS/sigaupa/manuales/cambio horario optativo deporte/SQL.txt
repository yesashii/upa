SELECT ASIG_CCOD FROM ASIGNATURAS WHERE ASIG_TDESC LIKE '%(NOMBRE DE ASIGNATURA)%'
SELECT SECC_CCOD FROM SECCIONES WHERE ASIG_CCOD = VALOR ANTERIOR
SELECT * FROM BLOQUES_HORARIOS WHERE SECC_CCOD IN (61725,61726) AND YEAR(BLOQ_FINICIO_MODULO)= AÑO A BUSCAR


Del SQL anterior se optiene el BLOQ_CCOD

SELECT * FROM horarios_optativos
SELECT * FROM horario_asignado_real WHERE BLOQ_CCOD= VALOR
UPDATE horario_asignado_real SET hora_ccod_optativos= BLOQUE HORARIO SEGUN HORARIO_OPTATIVO WHERE BLOQ_CCOD=VALOR